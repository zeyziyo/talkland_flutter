# PROHIBITED ACTIONS
1. **NO LOCAL BUILDS**: Never run `flutter build` or `flutter run` locally. The user uses a remote build pipeline. Only commit and push changes.
2. **NO CD COMMANDS**: Do not propose `cd` commands.

# WORKFLOW RULES (STRICT)
1. **ATOMIC INTERACTION**: Follow this strict sequence:
   - Step 1: Propose/Apply Code Edits.
   - Step 2: STOP and wait for User Confirmation ("Proceed", "OK").
   - Step 3: ONLY THEN propose git commands (`git add`, `git commit`).
   - NEVER combine Edit and Commit in the same turn.

2. **WIDE-CONTEXT WRAP**:
   - When introducing wrapper widgets (Stack, Row, Expanded, etc.), **NEVER** split the edit into header/footer replacements.
   - Replace the **ENTIRE BLOCK** (from opening parent to closing parent) to ensure parentheses match.

3. **VERIFICATION FIRST**:
   - After any `replace_file_content`, immediately verify the file content (using `view_file` or `grep`) to check for syntax errors or missing braces BEFORE notifying the user.

   - When introducing ANY new UI text or modifying existing text, **ALWAYS** update ALL localization files (e.g., `app_en.arb`, `app_ko.arb`) simultaneously.
   - Never leave hardcoded strings in the codebase.

5. **LEGACY CLEANUP (REFACTORING RULE)**:
   - When overloading/refactoring a feature (e.g., "Mode 3 Logic"), **EXPLICITLY SEARCH & REMOVE** old methods first.
   - **NEVER APPEND** new methods with the same name as existing ones. verify existence with `grep` before adding.

6. **DUPLICATE KEY CHECK**:
   - Before adding keys to ARB/JSON, **SEARCH** the file to ensure the key does not already exist.

